/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var t=[(t,e,n)=>{n.r(e),n.d(e,{bind:()=>i.bind,cached:()=>i.cached,emptyObject:()=>i.emptyObject,extend:()=>i.extend,genStaticKeys:()=>i.genStaticKeys,getDataType:()=>i.getDataType,hasOwn:()=>i.hasOwn,hyphenate:()=>i.hyphenate,identity:()=>i.identity,isDef:()=>i.isDef,isObject:()=>i.isObject,isPlainObject:()=>i.isPlainObject,isPrimitive:()=>i.isPrimitive,isPromise:()=>i.isPromise,isRegExp:()=>i.isRegExp,isUndef:()=>i.isUndef,isValidArrayIndex:()=>i.isValidArrayIndex,looseEqual:()=>i.looseEqual,looseIndexOf:()=>i.looseIndexOf,makeMap:()=>i.makeMap,no:()=>i.no,noop:()=>i.noop,once:()=>i.once,remove:()=>i.remove,toArray:()=>i.toArray,toNumber:()=>i.toNumber,toObject:()=>i.toObject,toRawType:()=>i.toRawType,toString:()=>i.toString,typeJudger:()=>i.typeJudger,defineReactive:()=>o.defineReactive,def:()=>function(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})},isChildPath:()=>function(t,e){if(!Array.isArray(e))return function(t,e){var n,r=e,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("object"!==a(r))return!1;if(null===r)break;if(void 0===(r=r[o]))return!1}}catch(t){i.e(t)}finally{i.f()}return"object"!==a(r)||!r}(t,e);if(t=r().fromJS(t),e=r().fromJS(e),t.size<e.size)return!1;for(var n=e.size-1;0<n;n--)if(e.get(n)!=t.get(n))return!1;return!0}}),e=n(4);var r=n.n(e),i=n(1),o=n(5);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,{emptyObject:()=>i,isUndef:()=>function(t){return null==t},isDef:()=>o,isPrimitive:()=>function(t){return"string"==typeof t||"number"==typeof t||"symbol"===r(t)||"boolean"==typeof t||null==t},getDataType:()=>function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return Immutable.isImmutable(t)&&!e?"Immutable "+t.toString().split(" ")[0]:(Immutable.isImmutable(t)&&e&&(t=t.toJS()),typeOf(t))},typeJudger:()=>function(t){return Object.prototype.toString.call(t)},isObject:()=>a,toRawType:()=>function(t){return u.call(t).slice(8,-1)},isPlainObject:()=>s,isRegExp:()=>function(t){return"[object RegExp]"===u.call(t)},isValidArrayIndex:()=>function(t){var e=parseFloat(String(t));return 0<=e&&Math.floor(e)===e&&isFinite(t)},isPromise:()=>function(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch},toString:()=>function(t){return null==t?"":Array.isArray(t)||s(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)},toNumber:()=>function(t){var e=parseFloat(t);return isNaN(e)?t:e},makeMap:()=>function(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}},remove:()=>function(t,e){if(t.length&&-1<(e=t.indexOf(e)))return t.splice(e,1)},hasOwn:()=>function(t,e){return l.call(t,e)},cached:()=>c,hyphenate:()=>h,bind:()=>y,toArray:()=>function(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r},extend:()=>p,toObject:()=>function(t){for(var e={},n=0;n<t.length;n++)t[n]&&p(e,t[n]);return e},noop:()=>function(t,e,n){},no:()=>v,identity:()=>b,genStaticKeys:()=>function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")},looseEqual:()=>d,looseIndexOf:()=>function(t,e){for(var n=0;n<t.length;n++)if(d(t[n],e))return n;return-1},once:()=>function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}});var i=Object.freeze({});function o(t){return null!=t}function a(t){return null!==t&&"object"===r(t)}var u=Object.prototype.toString;function s(t){return"[object Object]"===u.call(t)}var l=Object.prototype.hasOwnProperty;function c(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var f=/\B([A-Z])/g,h=c((function(t){return t.replace(f,"-$1").toLowerCase()})),y=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?1<r?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function p(t,e){for(var n in e)t[n]=e[n];return t}var v=function(t,e,n){return!1},b=function(t){return t};function d(t,e){if(t===e)return!0;var n=a(t),r=a(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return d(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var u=Object.keys(t),s=Object.keys(e);return u.length===s.length&&u.every((function(n){return d(t[n],e[n])}))}catch(n){return!1}}},,t=>{t.exports=require("tree-snap-shot")},t=>{t.exports=require("immutable")},(t,e,n)=>{n.r(e),n.d(e,{shouldObserve:()=>s,toggleObserving:()=>function(t){s=t},Observer:()=>l,observe:()=>c,defineReactive:()=>f,set:()=>function(t,e,n){if(Array.isArray(t)&&(0,o.isValidArrayIndex)(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n;var r=t.__ob__;return r?(f(r.value,e,n),r.dep.notify(),n):t[e]=n},del:()=>function(t,e){var n;Array.isArray(t)&&(0,o.isValidArrayIndex)(e)?t.splice(e,1):(n=t.__ob__,(0,o.hasOwn)(t,e)&&(delete t[e],n&&n.dep.notify()))}});var r=n(8),i=n(0),o=n(1);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=Object.getOwnPropertyNames(r.arrayMethods),s=!0,l=function(){function t(e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"value",void 0),a(this,"vmCount",void 0),this.value=e,(this.vmCount=0,i.def)(e,"__ob__",this),Array.isArray(e)?(i.hasProto?(n=r.arrayMethods,e.__proto__=n):function(t,e,n){for(var r=0,o=n.length;r<o;r++){var a=n[r];(0,i.def)(t,a,e[a])}}(e,r.arrayMethods,u),this.observeArray(e)):this.walk(e)}var e;return(e=[{key:"walk",value:function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)f(t,e[n])}},{key:"observeArray",value:function(t){for(var e=0,n=t.length;e<n;e++)c(t[e])}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();function c(t){var e;if((0,o.isObject)(t))return(0,o.hasOwn)(t,"__ob__")&&t.__ob__ instanceof l?e=t.__ob__:s&&(Array.isArray(t)||(0,o.isPlainObject)(t))&&Object.isExtensible(t)&&(e=new l(t)),e}function f(t,e,n,r,i){var o,a,u=Object.getOwnPropertyDescriptor(t,e);u&&!1===u.configurable||(o=u&&u.get,a=u&&u.set,o&&!a||2!==arguments.length||(n=t[e]),i||c(n),Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return o?o.call(t):n},set:function(e){var u=o?o.call(t):n;e===u||e!=e&&u!=u||(r&&r(),o&&!a||(a?a.call(t,e):n=e,i||c(e),dep.notify()))}}))}},(t,e,n)=>{n.r(e),n.d(e,{default:()=>c}),e=n(3);var r=n.n(e),i=n(7),o=n(0);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){if(t.length)return e={},t.map((function(t){for(var n,r=e,i=0;i<t.length&&(n=t[i],null!==r);i++)r&&i===t.length-1?r[n]=null:void 0===r[n]?r=r[n]={}:r&&"object"==u(r)&&(r=r[n])})),e;var e}function l(t,e){var n=1<arguments.length&&void 0!==e?e:".";if("string"!=typeof n||""===n)throw new Error('invalid split flag : "'+n+'"');var r=[];return Array.isArray(t)&&t.map((function(t){"string"==typeof t?r.push(t.split(n)):Array.isArray(t)&&r.push(t)})),r}(n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"branch","master"),a(this,"el",null),a(this,"backup",null),a(this,"curBranchLogs",null),a(this,"allLogs",{})}var e;return(e=[{key:"initBranch",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;return"string"!=typeof t&&"number"!=typeof t||(this.branch=t),this.allLogs[this.branch]&&this.allLogs[this.branch].init(e),this}},{key:"checkout",value:function(t){return"string"!=typeof t&&"number"!=typeof t||(this.branch=t),this.allLogs[this.branch]?this.curBranchLogs=this.allLogs[this.branch]:this.curBranchLogs=this.allLogs[this.branch]=new i.default,this}},{key:"delBranch",value:function(){this.allLogs[this.branch]&&(this.allLogs[this.branch].initBranch(),delete this.allLogs[this.branch])}},{key:"rm",value:function(t){return this.curBranchLogs.remove(t,(function(t){t.value&&t.value.clear&&t.value.clear()})),this}},{key:"commit",value:function(t){return this.el&&(r().deepEqual(this.backup,this.el)||(null!==(e=(n=this.backup).clear)&&void 0!==e&&e.call(n),this.backup=r().toImmutable(this.el)),this.curBranchLogs.push(t,this.backup)),this;var e,n}},{key:"merge",value:function(t,e){return this}},{key:"log",value:function(t,e){return this}},{key:"status",value:function(){return this}},{key:"diff",value:function(t,e){return this}},{key:"reset",value:function(t){var e,n,i,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{paths:[],splitFlag:".",ignore:[]},u=(u=this.allLogs[this.branch])&&u.search(t);return t=l(a.paths,a.splitFlag),a=l(a.ignore,a.splitFlag),u&&(r().compare(this.backup,u.value).exportLog((function(t){e=t})),n=s(t),i=s(a),r().replay(e,this.el,(function(t){if("init"==t[0]||"add"==t[0]||"update"==t[0]||"del"==t[0])t[1]=r().union(t[1],n),t[1]=r().difference(t[1],i);else if("diff"==t[0]&&(!(0,o.isChildPath)(t[1],n)||(0,o.isChildPath)(t[1],i)))return!1}))),this}},{key:"revert",value:function(){}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()).prototype.pipe=function(t){if(t&&"object"!=u(t))throw new Error("只能绑定 typeof == “object” 普通对象或数组");return this.el=t,this.backup=r().toImmutable(t),this.allLogs[this.branch]?this.curBranchLogs=this.allLogs[this.branch]:this.curBranchLogs=this.allLogs[this.branch]=new i.default,this};const c=n},(t,e,n)=>{function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){function t(t){this.element=t,this.prev=null,this.next=null}var e=0,n=null;this.append=function(r){var i,o;if(r=new t(r),n){for(i=n;i;)i=(o=i).next;(o.next=r).prev=o}else n=r;return e++,!0},this.insert=function(r,i){if(-1<r&&r<=e){i=new t(i);var o,a=n,u=0;if(0===r)n&&((i.next=n).prev=i),n=i;else{for(;u++<r;)a=(o=a).next;r!=e&&((i.next=a).prev=i),(o.next=i).prev=o}return e++,!0}return!1},this.removeAt=function(t){if(-1<t&&t<e){var r,i=n,o=0;if(0===t)(n=n.next).prev=null;else{for(;o++<t;)i=(r=i).next;t===e-1?r.next=null:(r.next=i.next,i.next.prev=r)}return e--,i.element}return!1},this.removeEle=function(t){var r,i=n,o=0;for(i.element===t&&(n=i.next),i=(r=i).next;i;)i.element==t?(r.next=i.next,i.next&&(i.next.prev=r),i=i.next,e--,o++):i=(r=i).next;return o},this.remove=function(){if(0===e)return!1;var t,r=n;if(1===e)return n=null,e--,r.element;for(;r.next;)r=(t=r).next;return t.next=null,e--,r.element},this.removeAll=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;0<=t&&t<e;)this.remove();return!0},this.indexOf=function(t){for(var r=n,i=0;r&&i<e;){if(r.element===t)return i;r=r.next,i++}return!1},this.prev=function(t){if(t){var r=n,i=0;if(n&&t===n.element)return n.element;for(;r&&i<e;){if(r.next.element===t)return r.element;r=r.next,i++}return!1}},this.next=function(t){if(t){for(var r=n,i=0;r&&i<e;){if(r.element===t)return(r.next||r).element;r=r.next,i++}return!1}},this.isEmpty=function(){return 0===e},this.size=function(){return e},this.getHead=function(){return n.element},this.getTail=function(){for(var t,e=n;e;)e=(t=e).next;return t.element}}n.r(e),n.d(e,{default:()=>o}),(e=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"max",10),r(this,"storage",[]),r(this,"keyIdx",{}),r(this,"size",0),r(this,"linkList",void 0),r(this,"currentItem",null),this.linkList=new i}).prototype.init=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;this.storage.length=0,this.keyIdx={},this.size=0,this.max=Math.max(t,1),this.linkList.removeAll()},e.prototype.remove=function(t,e){if(void 0!==this.keyIdx[t]){var n,r=this.keyIdx[t],i=this.storage[r];for(n in e&&e(i),this.linkList.removeEle(i),this.storage.splice(r,1),delete this.keyIdx[t],this.keyIdx)this.keyIdx[n]>r&&this.keyIdx[n]--;return this.size=this.storage.length,this.currentItem===i&&(this.currentItem=this.storage[Math.min(r,this.size-1)]),i}},e.prototype.update=function(t,e){if(void 0===this.keyIdx[t])return this.push(t,e);var n,r=this.keyIdx[t],i=this.storage[r];for(n in i.value=e,this.storage.splice(r,1),this.storage.push(i),this.keyIdx)this.keyIdx[n]>r&&this.keyIdx[n]--;return this.currentItem=i,this.keyIdx[t]=this.storage.length-1,i},e.prototype.search=function(t){return this.currentItem=this.storage[this.keyIdx[t]],this.currentItem},e.prototype.push=function(t,e){if(void 0!==this.keyIdx[t])return this.update(t,e);var n={key:t,value:e};return this.linkList.append(n),this.storage.push(n),this.storage.length>this.max&&(e=this.first(),this.remove(e.key)),this.size=this.storage.length,this.keyIdx[t]=this.storage.length-1,this.currentItem=n},e.prototype.prev=function(t){return this.search(t),this.linkList.prev(this.currentItem)},e.prototype.next=function(t){return this.search(t),this.linkList.next(this.currentItem)},e.prototype.last=function(){return this.storage[this.storage.length-1]},e.prototype.first=function(){return this.storage[0]};const o=e},(t,e,n)=>{n.r(e),n.d(e,{arrayMethods:()=>o});var r=n(0),i=Array.prototype,o=Object.create(i);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=i[t];(0,r.def)(o,t,(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o,a=e.apply(this,r),u=this.__ob__;switch(t){case"push":case"unshift":o=r;break;case"splice":o=r.slice(2)}return o&&u.observeArray(o),u.dep.notify(),a}))}))}],e={};function n(r){var i=e[r];return void 0!==i||(i=e[r]={exports:{}},t[r](i,i.exports,n)),i.exports}n.amdO={},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{n.r(r);var t,e,i=n(6);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t=void 0,e=function(t){var e=i.default;t.default=e},"object"===("undefined"==typeof exports?"undefined":o(exports))?e(exports):"function"==typeof define&&n.amdO?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).DataTimeLine={})})()})();